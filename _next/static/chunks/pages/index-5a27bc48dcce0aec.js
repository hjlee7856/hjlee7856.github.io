(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{16760:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(73836)}])},28143:(e,t,s)=>{"use strict";s.d(t,{W:()=>l});var i=s(14232);let l=e=>{let[t,s]=(0,i.useState)(1);return{totalPages:Math.ceil(e/5),currentPage:t,setCurrentPage:s,perPage:5}}},73836:(e,t,s)=>{"use strict";s.r(t),s.d(t,{__N_SSG:()=>et,default:()=>es});var i=s(37876);let l={name:"이형준",email:"jacker97@naver.com",phone:"010-2281-3080",company:"(주)데일리펀딩, IT팀, 프론트엔드 엔지니어"};var r=s(63954),n=s(54927),a=s(37493),o=s(85871),d=s(46520),x=s(61428),c=s(52460),u=s(52039);d.A,r.A,x.A;let p=()=>(0,i.jsx)(c.A,{variant:"outlined",children:(0,i.jsxs)(u.A,{children:[(0,i.jsx)(x.A,{variant:"body2",color:"textSecondary",fontWeight:"bold",mb:1,children:"소개글"}),(0,i.jsx)(x.A,{variant:"body2",color:"text.secondary",children:"포트폴리오 겸 개발 문서 정리용 블로그입니다. <br/> 그 외 유틸기능을 제공합니다.".split("<br/>").map((e,t)=>(0,i.jsxs)("span",{children:[e,(0,i.jsx)("br",{})]},t))}),(0,i.jsxs)(d.A,{mt:2,display:"flex",flexDirection:"column",gap:1,children:[(0,i.jsx)(x.A,{variant:"body2",color:"textSecondary",fontWeight:"bold",children:"문의"}),(0,i.jsxs)(d.A,{display:"flex",gap:1,alignItems:"center",children:[(0,i.jsx)(n.A,{fontSize:"small",color:"disabled"}),(0,i.jsx)(x.A,{variant:"body2",children:l.name})]}),(0,i.jsxs)(d.A,{display:"flex",gap:1,alignItems:"center",children:[(0,i.jsx)(o.A,{fontSize:"small",color:"disabled"}),(0,i.jsx)(x.A,{variant:"body2",children:l.company})]}),(0,i.jsxs)(d.A,{display:"flex",gap:1,alignItems:"center",children:[(0,i.jsx)(r.A,{fontSize:"small",color:"disabled"}),(0,i.jsx)(x.A,{variant:"body2",children:l.email})]}),(0,i.jsxs)(d.A,{display:"flex",gap:1,alignItems:"center",children:[(0,i.jsx)(a.A,{fontSize:"small",color:"disabled"}),(0,i.jsx)(x.A,{variant:"body2",children:l.phone})]})]})]})});var h=s(82318),j=s(91662),A=s(97916),m=s(14e3),v=s(86378);let f=()=>(0,i.jsx)(d.A,{children:[void 0,void 0,void 0].map((e,t)=>(0,i.jsxs)(d.A,{mb:1,children:[(0,i.jsx)(v.A,{variant:"text",width:"80%",height:28}),(0,i.jsx)(v.A,{variant:"rectangular",width:"100%",height:2,sx:{my:.5}})]},t))}),g=e=>{let{title:t,posts:s,type:l,isLoading:r=!1}=e,n=(0,m.useRouter)();return(0,i.jsx)(c.A,{variant:"outlined",children:(0,i.jsxs)(u.A,{sx:{pb:"16px !important"},children:[(0,i.jsx)(x.A,{variant:"body2",color:"textSecondary",fontWeight:"bold",marginBottom:2,children:t}),(0,i.jsx)(d.A,{gap:1,display:"flex",flexDirection:"column",children:r?(0,i.jsx)(f,{}):s&&s.map(e=>(0,i.jsxs)(d.A,{children:[(0,i.jsxs)(d.A,{display:"flex",justifyContent:"space-between",sx:{cursor:"pointer"},onClick:()=>{n.push("/posts/".concat(e.slug))},children:[(0,i.jsx)(x.A,{variant:"body1",sx:{maxWidth:"240px"},noWrap:!0,children:e.title}),"recent"===l&&(0,i.jsx)(x.A,{variant:"body2",noWrap:!0,children:e.createdAt.toLocaleDateString()}),"mostView"===l&&(0,i.jsxs)(d.A,{display:"flex",gap:.5,alignItems:"center",justifyContent:"flex-end",width:"50px",children:[(0,i.jsx)(j.A,{color:"disabled",fontSize:"small"}),(0,i.jsx)(x.A,{variant:"body2",color:"textSecondary",children:e.viewCount})]}),"popular"===l&&(0,i.jsxs)(d.A,{display:"flex",gap:.5,alignItems:"center",justifyContent:"flex-end",width:"50px",children:[(0,i.jsx)(h.A,{color:"disabled",fontSize:"small"}),(0,i.jsx)(x.A,{variant:"body2",color:"textSecondary",children:e.likeCount})]})]}),(0,i.jsx)(A.A,{})]},e.slug))})]})})},y=e=>{let{mostViewPosts:t,mostViewPostsLoading:s,popularPosts:l,popularPostsLoading:r,recentPosts:n,recentPostsLoading:a}=e;return(0,i.jsxs)(d.A,{component:"aside",sx:{width:400,pt:1,gap:1,display:{xs:"none",sm:"flex"}},flexDirection:"column",children:[(0,i.jsx)(p,{}),(0,i.jsx)(g,{title:"인기 포스트",posts:l,type:"popular",isLoading:r}),(0,i.jsx)(g,{title:"최다조회 포스트",posts:t,type:"mostView",isLoading:s}),(0,i.jsx)(g,{title:"최근 포스트",posts:n,type:"recent",isLoading:a})]})};var b=s(83932),w=s(97030),S=s(50882);let C=e=>{let{categories:t,changeCategory:s,value:l,setCurrentPage:r}=e;return(0,i.jsx)(d.A,{display:"flex",justifyContent:"flex-start",sx:{borderBottom:1,borderColor:"divider"},children:(0,i.jsx)(w.A,{value:l,onChange:(e,t)=>{s(e,t),r(1)},variant:"scrollable",children:t.map((e,t)=>(0,i.jsx)(S.A,{label:e,sx:{textTransform:"none"}},t))})})};var k=s(6924),I=s(42009);let P=async(e,t)=>{let s=(0,I.H9)(k.db,"users",t,"likes",e),i=(0,I.H9)(k.db,"posts",e);(await (0,I.x7)(s)).exists()||(await (0,I.BN)(s,{createdAt:new Date}),await (0,I.mZ)(i,{likeCount:(0,I.GV)(1)}))},_=async(e,t)=>{let s=(0,I.H9)(k.db,"users",t,"likes",e),i=(0,I.H9)(k.db,"posts",e);(await (0,I.x7)(s)).exists()&&(await (0,I.kd)(s),await (0,I.mZ)(i,{likeCount:(0,I.GV)(-1)}))},E=async(e,t)=>{let s=(0,I.H9)(k.db,"users",t,"likes",e);return(await (0,I.x7)(s)).exists()};var W=s(40197),D=s(14232);let L=e=>{let[t,s]=(0,D.useState)(!1),{user:i}=(0,W.A)();return(0,D.useEffect)(()=>{(async()=>{if(!(null==i?void 0:i.uid)){s(!1);return}s(await E(e.slug,i.uid))})()},[null==i?void 0:i.uid,e.slug]),{handleLike:async()=>{if(null==i?void 0:i.uid)if(t){var l;(null!==(l=e.likeCount)&&void 0!==l?l:0)>0&&await _(e.slug,i.uid),s(!1)}else await P(e.slug,i.uid),s(!0);else alert("로그인이 필요한 서비스 입니다.")},likeActive:t}};var B=s(74687),z=s(90772);let N=e=>{let{post:t}=e,{handleLike:s,likeActive:l}=L(t);return(0,i.jsxs)(d.A,{display:"flex",justifyContent:"space-between",sx:{marginTop:{xs:2,sm:0}},children:[(0,i.jsxs)(d.A,{display:"flex",gap:.5,alignItems:{xs:"flex-start",sm:"center"},flexDirection:{xs:"column",sm:"row"},children:[(0,i.jsx)(x.A,{variant:"body2",color:"textSecondary",children:t.author}),(0,i.jsx)(x.A,{variant:"body2",color:"textSecondary",display:{xs:"none",sm:"block"},children:"•"}),(0,i.jsx)(x.A,{variant:"body2",color:"textSecondary",children:t.createdAt&&t.createdAt.toLocaleDateString()})]}),(0,i.jsxs)(d.A,{display:"flex",gap:1,alignItems:{xs:"flex-end",sm:"center"},children:[(0,i.jsxs)(d.A,{display:"flex",gap:.5,alignItems:"center",children:[(0,i.jsx)(j.A,{color:"disabled",fontSize:"small"}),(0,i.jsx)(x.A,{variant:"body2",color:"textSecondary",children:t.viewCount})]}),(0,i.jsxs)(d.A,{display:"flex",gap:.5,alignItems:"center",onClick:e=>{e.stopPropagation(),s()},children:[l?(0,i.jsx)(h.A,{color:"disabled",fontSize:"small"}):(0,i.jsx)(z.A,{color:"disabled",fontSize:"small"}),(0,i.jsx)(x.A,{variant:"body2",color:"textSecondary",children:t.likeCount})]}),(0,i.jsxs)(d.A,{display:"flex",gap:.5,alignItems:"center",children:[(0,i.jsx)(B.A,{color:"disabled",fontSize:"small"}),(0,i.jsx)(x.A,{variant:"body2",color:"textSecondary",children:t.commentCount})]})]})]})};var T=s(54587),H=s.n(T);let V=e=>{let{post:t}=e;return(0,i.jsx)(d.A,{position:"relative",borderRadius:"8px",overflow:"hidden",sx:{width:{xs:"120px",sm:"180px"},height:{xs:"67.5px",sm:"101.25px"},flexShrink:0,margin:{xs:0,sm:1}},children:(0,i.jsx)(H(),{src:t.thumbnail,alt:"썸네일 이미지",fill:!0})})},M=e=>{let{post:t}=e;return(0,i.jsxs)(d.A,{position:"relative",width:"100%",children:[(0,i.jsx)(x.A,{variant:"h6",gutterBottom:!0,sx:{maxWidth:"95%",wordBreak:"break-word",display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical",overflow:"hidden"},children:t.title}),(0,i.jsx)(x.A,{variant:"subtitle1",color:"textSecondary",gutterBottom:!0,sx:{maxWidth:"95%",wordBreak:"break-word",display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical",overflow:"hidden"},children:t.subTitle})]})};var R=s(89099);let J=e=>{let{post:t}=e,s=(0,R.useRouter)();return(0,i.jsx)(c.A,{variant:"outlined",sx:{my:1,borderRadius:"8px","&:hover":{cursor:"pointer"}},onClick:()=>s.push("/posts/".concat(t.slug)),children:(0,i.jsx)(u.A,{sx:{pb:"16px !important"},children:(0,i.jsxs)(d.A,{display:"flex",justifyContent:"space-between",minWidth:"",children:[(0,i.jsxs)(d.A,{flex:1,display:"flex",flexDirection:"column",justifyContent:"space-between",sx:{mr:{xs:0,sm:2}},children:[(0,i.jsxs)(d.A,{sx:{display:{xs:"flex"},flex:{xs:"1"},flexDirection:{xs:"row"}},justifyContent:"space-between",children:[(0,i.jsx)(M,{post:t}),(0,i.jsx)(d.A,{sx:{display:{xs:"flex",sm:"none"},alignItems:"center"},children:(0,i.jsx)(V,{post:t})})]}),(0,i.jsx)(N,{post:t})]}),(0,i.jsx)(d.A,{sx:{display:{xs:"none",sm:"flex"},alignItems:"center"},children:(0,i.jsx)(V,{post:t})})]})})})};var O=s(90964);let Q=e=>{let{filteredPosts:t}=e;return(0,i.jsx)(O.A,{sx:{paddingX:"0 !important"},children:t.map((e,t)=>(0,i.jsx)(J,{post:e},t))})};var G=s(87263);let X=()=>(0,i.jsx)(G.A,{spacing:2,sx:{mt:2},children:[void 0,void 0,void 0,void 0,void 0].map((e,t)=>(0,i.jsx)(c.A,{variant:"outlined",children:(0,i.jsx)(u.A,{children:(0,i.jsxs)(d.A,{display:"flex",justifyContent:"space-between",children:[(0,i.jsxs)(d.A,{flex:1,mr:2,children:[(0,i.jsx)(v.A,{variant:"text",width:"60%",height:32}),(0,i.jsx)(v.A,{variant:"text",width:"40%",height:24}),(0,i.jsx)(v.A,{variant:"rectangular",width:"80%",height:20,sx:{mt:1,mb:1}}),(0,i.jsx)(v.A,{variant:"text",width:"30%",height:20})]}),(0,i.jsx)(v.A,{variant:"rectangular",width:120,height:68,sx:{borderRadius:2}})]})})},t))});var Z=s(56786);let q=()=>{let[e,t]=(0,D.useState)([]),[s,i]=(0,D.useState)(!0);return(0,D.useEffect)(()=>{i(!0);let e=(0,I.rJ)(k.db,"posts"),s=(0,I.aQ)((0,I.P)(e,(0,I.My)("viewCount","desc"),(0,I.AB)(3)),e=>{t(e.docs.map(e=>{let t=e.data();return{...t,createdAt:t.createdAt.toDate()}})),i(!1)},e=>{i(!1),console.error("Error fetching most viewed posts:",e)});return()=>{s()}},[]),{mostViewPosts:e,isLoading:s}};var F=s(28143);let K=()=>{let[e,t]=(0,D.useState)([]),[s,i]=(0,D.useState)(!0);return(0,D.useEffect)(()=>{i(!0);let e=(0,I.rJ)(k.db,"posts"),s=(0,I.aQ)((0,I.P)(e,(0,I.My)("likeCount","desc"),(0,I.AB)(3)),e=>{t(e.docs.map(e=>{let t=e.data();return{...t,createdAt:t.createdAt.toDate()}})),i(!1)},e=>{i(!1),console.error("Error fetching most viewed posts:",e)});return()=>{s()}},[]),{popularPosts:e,isLoading:s}},U=async e=>{e.forEach(async e=>{let t=(0,I.H9)(k.db,"posts",e.slug);(await (0,I.x7)(t)).exists()||await (0,I.BN)(t,{slug:e.slug,title:e.title,viewCount:0,likeCount:0,createdAt:new Date})})},Y=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,[i,l]=(0,D.useState)([]),[r,n]=(0,D.useState)(!0);return(0,D.useEffect)(()=>{if(!e.length){n(!1);return}n(!0),U(e);let i=(0,I.rJ)(k.db,"posts"),r=(t-1)*s,a=e.slice(r,r+s).map(e=>e.slug),o=(0,I.P)(i,(0,I._M)("slug","in",a)),d=(0,I.aQ)(o,t=>{try{let s={};t.forEach(e=>{s[e.id]=e.data()});let i=e.map(e=>{var t,i,l;let r=s[e.slug];return{...e,...r,createdAt:null!==(l=null==r?void 0:null===(i=r.createdAt)||void 0===i?void 0:null===(t=i.toDate)||void 0===t?void 0:t.call(i))&&void 0!==l?l:null}}).sort((e,t)=>{var s,i,l,r,n,a;let o=null!==(n=null===(i=e.createdAt)||void 0===i?void 0:null===(s=i.getTime)||void 0===s?void 0:s.call(i))&&void 0!==n?n:0;return(null!==(a=null===(r=t.createdAt)||void 0===r?void 0:null===(l=r.getTime)||void 0===l?void 0:l.call(r))&&void 0!==a?a:0)-o});l(i),n(!1)}catch(e){n(!1)}},e=>{n(!1)});return()=>d()},[e,t]),{postWithMeta:i,isLoading:r}},$=()=>{let[e,t]=(0,D.useState)([]),[s,i]=(0,D.useState)(!0);return(0,D.useEffect)(()=>{i(!0);let e=(0,I.rJ)(k.db,"posts"),s=(0,I.aQ)((0,I.P)(e,(0,I.My)("createdAt","desc"),(0,I.AB)(3)),e=>{t(e.docs.map(e=>{let t=e.data();return{...t,createdAt:t.createdAt.toDate()}})),i(!1)},e=>{i(!1),console.error("Error fetching most viewed posts:",e)});return()=>{s()}},[]),{recentPosts:e,isLoading:s}};var ee=s(53830),et=!0;function es(e){let{posts:t,categories:s}=e,{currentPage:l,setCurrentPage:r,totalPages:n,perPage:a}=(0,F.W)(t.length),{postWithMeta:o,isLoading:x}=Y(t,l,a),{filteredPosts:c,changeCategory:u,selectIdx:p}=(0,Z.e)(o,s),{popularPosts:h,isLoading:j}=K(),{recentPosts:m,isLoading:v}=$(),{mostViewPosts:f,isLoading:g}=q();return t?(0,i.jsxs)(d.A,{display:"flex",children:[(0,i.jsxs)(d.A,{flex:1,children:[(0,i.jsx)(C,{categories:s,changeCategory:u,setCurrentPage:r,value:p}),x?(0,i.jsx)(X,{}):(0,i.jsx)(Q,{filteredPosts:c}),(0,i.jsx)(d.A,{display:"flex",justifyContent:"center",my:3,children:(0,i.jsx)(ee.A,{count:n,page:l,onChange:(e,t)=>r(t),color:"primary",shape:"rounded"})})]}),(0,i.jsx)(A.A,{orientation:"vertical",flexItem:!0,sx:{mx:3,display:{xs:"none",sm:"block"}}}),(0,i.jsx)(y,{popularPosts:h,popularPostsLoading:j,mostViewPosts:f,mostViewPostsLoading:g,recentPosts:m,recentPostsLoading:v})]}):(0,i.jsx)(b.A,{})}},83932:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var i=s(37876),l=s(46520),r=s(65965);let n=()=>(0,i.jsx)(l.A,{sx:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"rgba(255, 255, 255, 0.7)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,i.jsx)(r.A,{})})}},e=>{var t=t=>e(e.s=t);e.O(0,[830,680,636,593,792],()=>t(16760)),_N_E=e.O()}]);