(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[531],{2405:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>b});var s=a(7876),n=a(4232);let i="undefined"!=typeof window&&"undefined"!=typeof document?n.useLayoutEffect:n.useEffect,o=(e,t,a)=>{i(()=>{if(!e||!a)return;let s=function(){for(var t=arguments.length,s=Array(t),n=0;n<t;n++)s[n]=arguments[n];return void 0===s?a(e):a(e,...s)};return kakao.maps.event.addListener(e,t,s),()=>{kakao.maps.event.removeListener(e,t,s)}},[e,t,a])},r="__react-kakao-maps-sdk__",l=function(e){return e[e.INITIALIZED=0]="INITIALIZED",e[e.LOADING=1]="LOADING",e[e.SUCCESS=2]="SUCCESS",e[e.FAILURE=3]="FAILURE",e}({}),d=`${r}_Loader`;class c{static loadEventCallback=new Set;callbacks=[];done=!1;loading=!1;errors=[];constructor(e){let{appkey:t,id:a=d,libraries:s=[],nonce:n,retries:i=3,url:o="//dapi.kakao.com/v2/maps/sdk.js"}=e;if(this.id=a,this.appkey=t,this.libraries=s,this.nonce=n,this.retries=i,this.url=o,c.instance&&!c.equalOptions(this.options,c.instance.options)&&!c.equalOptions(this.options,c.instance.options))if(c.instance.status===l.FAILURE)throw Error(`Loader must not be called again with different options. 
${JSON.stringify(this.options,null,2)}
!==
${JSON.stringify(c.instance.options,null,2)}`);else c.instance.reset(),c.instance=this;return c.instance||(c.instance=this),c.instance}get options(){return{appkey:this.appkey,id:this.id,libraries:this.libraries,nonce:this.nonce,retries:this.retries,url:this.url}}static addLoadEventLisnter(e){return window.kakao&&window.kakao.maps&&window.kakao.maps.load(e),c.loadEventCallback.add(e),e}static removeLoadEventLisnter(e){return c.loadEventCallback.delete(e)}load(){return new Promise((e,t)=>{this.loadCallback(a=>{a?t(a):e(window.kakao)})})}get status(){return this.onEvent?l.FAILURE:this.done?l.SUCCESS:this.loading?l.LOADING:l.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}loadCallback(e){this.callbacks.push(e),this.execute()}resetIfRetryingFailed(){this.failed&&this.reset()}reset(){this.deleteScript(),this.done=!0,this.loading=!1,this.errors=[],this.onEvent=void 0}execute(){if(this.resetIfRetryingFailed(),this.done)this.callback();else{if(window.kakao&&window.kakao.maps){console.warn("Kakao Maps이 이미 외부 요소에 의해 로딩되어 있습니다.설정한 옵션과 일치 하지 않을 수 있으며, 이에 따른 예상치 동작이 발생할 수 있습니다."),window.kakao.maps.load(this.callback);return}this.loading||(this.loading=!0,this.setScript())}}setScript(){document.getElementById(this.id)&&this.callback();let e=this.createUrl(),t=document.createElement("script");t.id=this.id,t.type="text/javascript",t.src=e,t.onerror=this.loadErrorCallback.bind(this),t.onload=this.callback.bind(this),t.defer=!0,t.async=!0,this.nonce&&(t.nonce=this.nonce),document.head.appendChild(t)}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){let e=this.errors.length*2**this.errors.length;console.log(`Failed to load Kakao Maps script, retrying in ${e} ms.`),setTimeout(()=>{this.deleteScript(),this.setScript()},e)}else this.done=!0,this.loading=!1,this.onEvent=this.errors[this.errors.length-1],this.callbacks.forEach(e=>{e(this.onEvent)}),this.callbacks=[],c.loadEventCallback.forEach(e=>{e(this.onEvent)})}createUrl(){let e=this.url;return e+=`?appkey=${this.appkey}`,this.libraries.length&&(e+=`&libraries=${this.libraries.join(",")}`),e+="&autoload=false"}deleteScript(){let e=document.getElementById(this.id);e&&e.remove()}callback(){kakao.maps.load(()=>{c.instance.done=!0,c.instance.loading=!1,c.instance.callbacks.forEach(e=>{e(c.instance.onEvent)}),c.instance.callbacks=[],c.loadEventCallback.forEach(e=>{e(c.instance.onEvent)})})}static equalOptions(e,t){if(e.appkey!==t.appkey||e.id!==t.id||e.libraries.length!==t.libraries.length)return!1;for(let a=0;a<e.libraries.length;++a)if(e.libraries[a]!==t.libraries[a])return!1;return e.nonce===t.nonce&&e.retries===t.retries&&e.url===t.url}}let p=function(e,t){for(var a=arguments.length,s=Array(a>2?a-2:0),n=2;n<a;n++)s[n-2]=arguments[n];i(()=>{!e||s.every(e=>void 0===e)||e[t].call(e,...s)},[e,t,...s])},u=n.createContext(void 0),h=n.forwardRef(function(e,t){let{id:a,as:l,children:d,center:h,isPanto:k=!1,padding:g=32,disableDoubleClick:m,disableDoubleClickZoom:f,draggable:v,zoomable:w,keyboardShortcuts:L,level:y,maxLevel:E,minLevel:b,mapTypeId:I,projectionId:x,scrollwheel:C,tileAnimation:S,onBoundsChanged:M,onCenterChanged:A,onClick:_,onDoubleClick:O,onDrag:j,onDragEnd:P,onDragStart:R,onIdle:N,onMaptypeidChanged:T,onMouseMove:z,onRightClick:U,onTileLoaded:D,onZoomChanged:F,onZoomStart:$,onCreate:Z,...q}=e,[H,G]=(0,n.useState)(!1),[K,J]=(0,n.useState)(),B=(0,n.useRef)(null);return i(()=>{let e=c.addLoadEventLisnter(e=>G(!e));return()=>{c.removeLoadEventLisnter(e)}},[]),i(()=>{if(!H)return;let e=B.current;if(!e)return;let t="lat"in h?new kakao.maps.LatLng(h.lat,h.lng):new kakao.maps.Coords(h.x,h.y),a=new kakao.maps.Map(e,{center:t,disableDoubleClick:m,disableDoubleClickZoom:f,draggable:v,keyboardShortcuts:L,level:y,mapTypeId:"string"==typeof I?kakao.maps.MapTypeId[I]:I,projectionId:x,scrollwheel:C,tileAnimation:S});return J(a),()=>{e.innerHTML=""}},[H,m,f,S]),(0,n.useImperativeHandle)(t,()=>K,[K]),i(()=>{K&&Z&&Z(K)},[K,Z]),i(()=>{if(!K)return;let e=K.getCenter();e instanceof kakao.maps.Coords&&(e=e.toLatLng());let t="lat"in h?new kakao.maps.LatLng(h.lat,h.lng):new kakao.maps.Coords(h.x,h.y);t instanceof kakao.maps.LatLng&&t.equals(e)||t instanceof kakao.maps.Coords&&t.toLatLng().equals(e)||(k?K.panTo(t,g):K.setCenter(t))},[K,h.lat,h.lng,h.x,h.y]),p(K,"setDraggable",v),p(K,"setZoomable",w),p(K,"setKeyboardShortcuts",L),p(K,"setLevel",y),p(K,"setMapTypeId",H?"string"==typeof I?kakao.maps.MapTypeId[I]:I:void 0),p(K,"setProjectionId",x),p(K,"setMinLevel",E),p(K,"setMaxLevel",b),o(K,"bounds_changed",M),o(K,"center_changed",A),o(K,"click",_),o(K,"dblclick",O),o(K,"drag",j),o(K,"dragstart",R),o(K,"dragend",P),o(K,"idle",N),o(K,"maptypeid_changed",T),o(K,"mousemove",z),o(K,"rightclick",U),o(K,"tilesloaded",D),o(K,"zoom_changed",F),o(K,"zoom_start",$),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l||"div",{id:a||`${r}_Map`,...q,ref:B}),K&&(0,s.jsx)(u.Provider,{value:K,children:d})]})}),k=e=>{let t=(0,n.useContext)(u);if(!t)throw Error(`${e?e+" Component":"useMap"} must exist inside Map Component!`);return t};var g=a(8477);let m=n.forwardRef(function(e,t){let{map:a,position:s,marker:i,children:o,altitude:r,disableAutoPan:l,range:d,removable:c,zIndex:u,onCreate:h}=e,k=(0,n.useMemo)(()=>{let e=document.createElement("div");return e.style.display="none",new kakao.maps.InfoWindow({altitude:r,disableAutoPan:l,range:d,removable:c,zIndex:u,content:e,position:s})},[l,c]),m=(0,n.useMemo)(()=>k.getContent(),[k]);return(0,n.useImperativeHandle)(t,()=>k,[k]),(0,n.useLayoutEffect)(()=>(k.open(a,i),()=>{k.close()}),[a,i]),(0,n.useLayoutEffect)(()=>{h&&h(k)},[k,h]),p(k,"setPosition",s),p(k,"setAltitude",r),p(k,"setRange",d),p(k,"setZIndex",u),g.createPortal(o,m.parentElement??m)}),f=n.createContext(void 0),v=n.forwardRef(function(e,t){let{map:a,position:i,children:r,altitude:l,clickable:d,draggable:c,image:u,infoWindowOptions:h,onCreate:k,onClick:g,onDragEnd:v,onDragStart:w,onMouseOut:L,onMouseOver:y,opacity:E,range:b,title:I,zIndex:x}=e,C=(0,n.useContext)(f),S=(0,n.useMemo)(()=>u&&new kakao.maps.MarkerImage(u.src,new kakao.maps.Size(u.size.width,u.size.height),{alt:u.options?.alt,coords:u.options?.coords,offset:u.options?.offset&&new kakao.maps.Point(u.options?.offset.x,u.options?.offset.y),shape:u.options?.shape,spriteOrigin:u.options?.spriteOrigin&&new kakao.maps.Point(u.options?.spriteOrigin.x,u.options?.spriteOrigin.y),spriteSize:u.options?.spriteSize&&new kakao.maps.Size(u.options?.spriteSize.width,u.options?.spriteSize.height)}),[JSON.stringify(u)]),M=(0,n.useMemo)(()=>new kakao.maps.Marker({altitude:l,clickable:d,draggable:c,image:S,opacity:E,range:b,title:I,zIndex:x,position:i}),[]);return((0,n.useImperativeHandle)(t,()=>M,[M]),(0,n.useLayoutEffect)(()=>C?(C.addMarker(M,!0),()=>C.removeMarker(M,!0)):(M.setMap(a),()=>M.setMap(null)),[a,C,M]),(0,n.useLayoutEffect)(()=>{k&&k(M)},[M,k]),p(M,"setPosition",i),p(M,"setImage",S),p(M,"setAltitude",l),p(M,"setClickable",d),p(M,"setDraggable",c),p(M,"setOpacity",E),p(M,"setRange",b),p(M,"setRange",b),p(M,"setTitle",I),p(M,"setTitle",I),p(M,"setZIndex",x),o(M,"click",g),o(M,"dragstart",w),o(M,"dragend",v),o(M,"mouseout",L),o(M,"mouseover",y),r)?(0,s.jsx)(m,{position:i,map:a,marker:M,altitude:h?.altitude,disableAutoPan:h?.disableAutoPan,range:h?.range,removable:h?.removable,zIndex:h?.zIndex,children:r}):null}),w=n.forwardRef(function(e,t){let{position:a,...i}=e,o=k("MapMarker"),r=(0,n.useMemo)(()=>"lat"in a?new kakao.maps.LatLng(a.lat,a.lng):new kakao.maps.Coords(a.x,a.y).toLatLng(),[a.lat,a.lng,a.x,a.y]);return(0,s.jsx)(v,{map:o,position:r,...i,ref:t})}),L=n.forwardRef(function(e,t){let{path:a,endArrow:s,onClick:i,onMousedown:r,onMousemove:l,onMouseout:d,onMouseover:c,onCreate:u,strokeColor:h,strokeOpacity:g,strokeStyle:m,strokeWeight:f,zIndex:v}=e,w=k("Polyline"),L=(0,n.useMemo)(()=>a.every(e=>e instanceof Array)?a.map(e=>e.map(e=>new kakao.maps.LatLng(e.lat,e.lng))):a.map(e=>new kakao.maps.LatLng(e.lat,e.lng)),[a]),y=(0,n.useMemo)(()=>new kakao.maps.Polyline({path:L,endArrow:s,strokeColor:h,strokeOpacity:g,strokeStyle:m,strokeWeight:f,zIndex:v}),[]);return(0,n.useImperativeHandle)(t,()=>y,[y]),(0,n.useLayoutEffect)(()=>(y.setMap(w),()=>y.setMap(null)),[w,y]),(0,n.useLayoutEffect)(()=>{u&&u(y)},[y,u]),(0,n.useLayoutEffect)(()=>{y.setOptions({endArrow:s,strokeColor:h,strokeOpacity:g,strokeStyle:m,strokeWeight:f})},[y,s,h,g,m,f]),p(y,"setPath",L),p(y,"setZIndex",v),o(y,"mouseover",c),o(y,"mouseout",d),o(y,"mousemove",l),o(y,"mousedown",r),o(y,"click",i),null}),y=e=>{let{destinationAddress:t}=e,[a,i]=(0,n.useState)({lat:37.514500825128536,lng:127.03165990802783}),[o,r]=(0,n.useState)(null);return((0,n.useEffect)(()=>{let{kakao:e}=window;if(!e||!e.maps||!e.maps.services){console.error("카카오맵 API가 로드되지 않았습니다.");return}new e.maps.services.Geocoder().addressSearch(t,function(t,a){if(a!==e.maps.services.Status.OK){console.error("주소 검색 실패:",a);return}r(new e.maps.LatLng(t[0].y,t[0].x))})},[t]),o)?(0,s.jsxs)(h,{center:{lat:a.lat,lng:a.lng},level:5,style:{width:"500px",height:"400px"},children:[(0,s.jsx)(w,{position:{lat:a.lat,lng:a.lng}}),(0,s.jsx)(w,{position:{lat:o.getLat(),lng:o.getLng()}}),(0,s.jsx)(L,{path:[{lat:a.lat,lng:a.lng},{lat:o.getLat(),lng:o.getLng()}],strokeWeight:4,strokeColor:"#00A000",strokeOpacity:.7})]}):(0,s.jsx)("div",{children:"Loading..."})};var E=a(6520);let b=()=>(0,s.jsx)(E.A,{p:2,children:(0,s.jsx)(E.A,{width:"500px",children:(0,s.jsx)(y,{destinationAddress:"서울특별시 강남구 강남대로 464"})})})},3637:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/utils/today-menu-recommender",function(){return a(2405)}])}},e=>{var t=t=>e(e.s=t);e.O(0,[636,593,792],()=>t(3637)),_N_E=e.O()}]);