(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[119],{5531:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>M});var l=n(7876),i=n(2989),s=n(8192),a=n(4676),o=n(9858),r=n(8431),c=n(4527),d=n(7461),h=n(4232);let x=e=>{let[t,n]=(0,h.useState)(""),[x,u]=(0,h.useState)(""),j=()=>{n(""),u("")};return(0,l.jsxs)(a.A,{sx:{backgroundColor:d.A[50]},children:[(0,l.jsx)(o.A,{children:e.section}),(0,l.jsx)(o.A,{children:(0,l.jsx)(r.A,{error:""===t,label:""===t?"필수":"카테고리",value:t,onChange:e=>n(e.target.value),multiline:!0,fullWidth:!0,size:"small"})}),(0,l.jsx)(o.A,{children:(0,l.jsx)(r.A,{label:"내용",value:x,onChange:e=>u(e.target.value),multiline:!0,fullWidth:!0,size:"small"})}),(0,l.jsxs)(o.A,{align:"center",children:[(0,l.jsx)(c.A,{onClick:()=>{e.handleAdd(e.section,t,x),j()},size:"small",children:(0,l.jsx)(i.A,{fontSize:"small"})}),(0,l.jsx)(c.A,{onClick:j,size:"small",children:(0,l.jsx)(s.A,{fontSize:"small"})})]})]})};var u=n(2781),j=n(5878),g=n(1567),A=n(4582),m=n(6520),f=n(1428),p=n(451),v=n(8423),y=n(1413);let b=e=>(0,l.jsxs)(m.A,{sx:{overflowX:"auto"},children:[(0,l.jsx)(f.A,{variant:"subtitle1",fontWeight:"bold",mb:1,children:e.title}),(0,l.jsxs)(p.A,{size:"small",sx:{minWidth:600},children:[(0,l.jsx)(v.A,{children:(0,l.jsxs)(a.A,{children:[(0,l.jsx)(o.A,{children:"분류"}),(0,l.jsx)(o.A,{children:"카테고리"}),(0,l.jsx)(o.A,{children:"내용"}),(0,l.jsx)(o.A,{align:"center",children:"CRUD"})]})}),(0,l.jsxs)(y.A,{children:[(0,l.jsx)(x,{section:e.section,handleAdd:e.handleAdd}),e.allContentItems.map((t,n)=>{var i,s,d,h,x,m;let f="".concat(t.section,"-").concat(t.category,"-").concat(t.content),p=e.editingKey===f;return(0,l.jsxs)(a.A,{sx:{backgroundColor:p?A.A[50]:""},children:[(0,l.jsx)(o.A,{sx:{width:"120px"},children:t.section}),(0,l.jsx)(o.A,{sx:{wordBreak:"break-all"},children:p?(0,l.jsx)(r.A,{error:(null===(i=e.editingMap[t.content])||void 0===i?void 0:i.category)==="",label:(null===(s=e.editingMap[t.content])||void 0===s?void 0:s.category)===""?"필수":"카테고리",value:null!==(x=null===(d=e.editingMap[t.content])||void 0===d?void 0:d.category)&&void 0!==x?x:t.category,onChange:n=>e.handleEditChange(t.content,"category",n.target.value),multiline:!0,fullWidth:!0,size:"small"}):t.category}),(0,l.jsx)(o.A,{sx:{wordBreak:"break-all"},children:p?(0,l.jsx)(r.A,{label:"내용",value:null!==(m=null===(h=e.editingMap[t.content])||void 0===h?void 0:h.content)&&void 0!==m?m:t.content,onChange:n=>e.handleEditChange(t.content,"content",n.target.value),multiline:!0,fullWidth:!0,disabled:!p,size:"small"}):t.content}),(0,l.jsxs)(o.A,{align:"center",children:[p?(0,l.jsx)(c.A,{onClick:()=>e.handleSaveEdit(t.section,t.category,t.content),size:"small",children:(0,l.jsx)(g.A,{fontSize:"small"})}):(0,l.jsx)(c.A,{onClick:()=>{e.setEditingMap(e=>({...e,[t.content]:{section:t.section,category:t.category,content:t.content}})),e.setEditingKey("".concat(t.section,"-").concat(t.category,"-").concat(t.content))},size:"small",children:(0,l.jsx)(j.A,{fontSize:"small"})}),(0,l.jsx)(c.A,{onClick:()=>e.handleDelete(t.section,t.category,t.content),size:"small",children:(0,l.jsx)(u.A,{fontSize:"small"})})]})]},n)})]})]})]});var C=n(2382);let k=e=>(0,l.jsxs)(m.A,{flex:1,flexDirection:"column",children:[(0,l.jsxs)(m.A,{display:"flex",justifyContent:"space-between",mb:1,children:[(0,l.jsx)(f.A,{variant:"subtitle1",fontWeight:"bold",children:"보고서 미리보기"}),(0,l.jsx)(c.A,{size:"small",onClick:e.handleCopy,children:(0,l.jsx)(C.A,{fontSize:"small"})})]}),(0,l.jsx)(r.A,{multiline:!0,fullWidth:!0,minRows:10,value:e.text,sx:{borderRadius:2,backgroundColor:"#f5f5f5"},InputProps:{readOnly:!0}})]}),E=()=>(0,l.jsxs)(m.A,{children:[(0,l.jsx)(f.A,{variant:"h5",fontWeight:"bold",children:"업무 보고 생성기"}),(0,l.jsx)(f.A,{variant:"body2",color:"text.secondary",mt:.5,children:"업무 보고를 템플릿으로 자동으로 생성 해줍니다."})]}),z=()=>{let[e,t]=(0,h.useState)({}),[n,l]=(0,h.useState)({}),[i,s]=(0,h.useState)(null),[a,o]=(0,h.useState)(!1),r=async()=>{let e=c();await navigator.clipboard.writeText(e),o(!0)},c=()=>Object.entries(e).sort((e,t)=>{let[n]=e,[l]=t;return n.localeCompare(l)}).map(e=>{let[t,n]=e,l=Object.entries(n).map(e=>{let[t,n]=e,l=n.filter(e=>""!==e.trim());if(0===l.length)return"● ".concat(t);let i=l.map(e=>"    ○ ".concat(e)).join("\n");return t.trim()?"● ".concat(t,"\n").concat(i):i}).join("\n");return l?"".concat("*[".concat(t,"]*"),"\n").concat(l):""}).join("\n\n").trim(),d=c();return{handleAdd:(e,n,l)=>{e&&n&&t(t=>{let i={...t};return i[e]||(i[e]={}),i[e][n]||(i[e][n]=[]),i[e][n].push(l),i})},allContentItems:Object.entries(e).flatMap(e=>{let[t,n]=e;return Object.entries(n).flatMap(e=>{let[n,l]=e;return l.map(e=>({section:t,category:n,content:e}))})}),editingMap:n,editingKey:i,handleEditChange:(e,t,n)=>{l(l=>({...l,[e]:{...l[e],[t]:n}}))},handleSaveEdit:(e,i,a)=>{let o=n[a];if(!o)return;let{section:r,category:c,content:d}=o;t(t=>{let n={...t};return n[e][i]=n[e][i].filter(e=>e!==a),0===n[e][i].length&&delete n[e][i],0===Object.keys(n[e]).length&&delete n[e],n[r]||(n[r]={}),n[r][c]||(n[r][c]=[]),n[r][c].push(d),n}),l(e=>{let t={...e};return delete t[a],t}),s(null)},setEditingMap:l,setEditingKey:s,handleDelete:(e,n,l)=>{t(t=>{let i={...t};return i[e][n]=i[e][n].filter(e=>e!==l),0===i[e][n].length&&delete i[e][n],0===Object.keys(i[e]).length&&delete i[e],i})},handleCopy:r,openSnackbar:a,text:d,setOpenSnackbar:o}};var w=n(7263),S=n(7916),_=n(2199);let M=()=>{let{handleAdd:e,allContentItems:t,editingMap:n,editingKey:i,handleEditChange:s,handleSaveEdit:a,setEditingMap:o,setEditingKey:r,handleDelete:c,handleCopy:d,openSnackbar:h,text:x,setOpenSnackbar:u}=z();return(0,l.jsxs)(m.A,{p:2,children:[(0,l.jsxs)(w.A,{spacing:3,children:[(0,l.jsx)(E,{}),(0,l.jsx)(S.A,{}),(0,l.jsxs)(m.A,{display:"flex",sx:{flexDirection:{xs:"column",sm:"row"}},children:[(0,l.jsxs)(m.A,{display:"flex",flexDirection:"column",gap:2,flex:2,children:[(0,l.jsx)(b,{title:"금일 진행 사항",allContentItems:t.filter(e=>"금일 진행 사항"===e.section),editingMap:n,setEditingMap:o,editingKey:i,setEditingKey:r,handleEditChange:s,handleSaveEdit:a,handleDelete:c,section:"금일 진행 사항",handleAdd:e}),(0,l.jsx)(S.A,{sx:{my:1,display:{xs:"block",sm:"none"}}}),(0,l.jsx)(b,{title:"익일 예정 사항",allContentItems:t.filter(e=>"익일 예정 사항"===e.section),editingMap:n,setEditingMap:o,editingKey:i,setEditingKey:r,handleEditChange:s,handleSaveEdit:a,handleDelete:c,section:"익일 예정 사항",handleAdd:e})]}),(0,l.jsx)(S.A,{orientation:"vertical",flexItem:!0,sx:{mx:3,display:{xs:"none",sm:"block"}}}),(0,l.jsx)(S.A,{sx:{my:3,display:{xs:"block",sm:"none"}}}),(0,l.jsx)(k,{text:x,handleCopy:d})]})]}),(0,l.jsx)(_.A,{open:h,autoHideDuration:2e3,onClose:()=>u(!1),message:"보고서가 복사되었습니다.",anchorOrigin:{vertical:"bottom",horizontal:"center"}})]})}},8569:(e,t,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/utils/work-report-maker",function(){return n(5531)}])}},e=>{var t=t=>e(e.s=t);e.O(0,[431,74,245,636,593,792],()=>t(8569)),_N_E=e.O()}]);