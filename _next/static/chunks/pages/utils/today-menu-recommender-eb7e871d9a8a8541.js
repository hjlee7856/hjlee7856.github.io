(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[531],{23637:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/utils/today-menu-recommender",function(){return s(31012)}])},31012:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>w});var i=s(37876),l=s(95252),n=s(80132),a=s(46520),c=s(52460),o=s(52039),r=s(40652),h=s(61428),d=s(32643),x=s(14232),m=s(80252),g=s(35702),u=s(90762),p=s(44744),j=s(69357),b=s(27238);let y=[{id:1,text:"오늘 기분이 어떤가요?",options:[{text:"활기찬 하루를 보내고 싶어요",weights:{meat:.8,vegetable:.2,hot:.6,cold:.4,spicy:.7}},{text:"평온한 하루를 보내고 싶어요",weights:{meat:.3,vegetable:.7,hot:.4,cold:.6,spicy:.2}}]},{id:2,text:"오늘 날씨는 어떤가요?",options:[{text:"따뜻하고 맑아요",weights:{meat:.4,vegetable:.6,hot:.3,cold:.7,spicy:.2}},{text:"추워요",weights:{meat:.7,vegetable:.3,hot:.8,cold:.2,spicy:.6}}]},{id:3,text:"오늘 식사 시간은 어떻게 되나요?",options:[{text:"바쁘게 먹어야 해요",weights:{meat:.6,vegetable:.4,hot:.5,cold:.5,spicy:.4}},{text:"여유롭게 먹을 수 있어요",weights:{meat:.5,vegetable:.5,hot:.7,cold:.3,spicy:.5}}]},{id:4,text:"오늘 운동 계획이 있나요?",options:[{text:"네, 운동할 예정이에요",weights:{meat:.7,vegetable:.3,hot:.6,cold:.4,spicy:.3}},{text:"아니요, 쉴 예정이에요",weights:{meat:.4,vegetable:.6,hot:.4,cold:.6,spicy:.5}}]}],v=[{name:"떡볶이",weights:{meat:.2,vegetable:.3,hot:.9,cold:.1,spicy:.8}},{name:"피자",weights:{meat:.8,vegetable:.4,hot:.7,cold:.3,spicy:.2}},{name:"샐러드",weights:{meat:.1,vegetable:.9,hot:.2,cold:.8,spicy:.1}},{name:"삼겹살",weights:{meat:.9,vegetable:.2,hot:.8,cold:.2,spicy:.3}},{name:"초밥",weights:{meat:.6,vegetable:.4,hot:.3,cold:.7,spicy:.2}},{name:"라면",weights:{meat:.3,vegetable:.3,hot:.9,cold:.1,spicy:.7}},{name:"비빔밥",weights:{meat:.4,vegetable:.7,hot:.5,cold:.5,spicy:.4}}],w=()=>{let[e,t]=(0,x.useState)(0),[s,w]=(0,x.useState)({}),[f,A]=(0,x.useState)(!1),[_,E]=(0,x.useState)(null),k=i=>{let l={...s,[e]:i};w(l),e<y.length-1?t(e+1):(C(l),A(!0))},C=e=>{let t={meat:0,vegetable:0,hot:0,cold:0,spicy:0};Object.entries(e).forEach(e=>{let[s,i]=e;Object.entries(y[parseInt(s)].options[i].weights).forEach(e=>{let[s,i]=e;t[s]+=i})});let s=y.length;Object.keys(t).forEach(e=>{t[e]/=s});let i=v.map(e=>{let s=0;return Object.entries(e.weights).forEach(e=>{let[i,l]=e;s+=Math.abs(l-t[i])}),{menu:e,score:s}});i.sort((e,t)=>e.score-t.score);let l=v.reduce((e,s)=>{let i=0;return Object.entries(s.weights).forEach(e=>{let[s,l]=e;i+=Math.abs(l-t[s])}),i>e.score?{menu:s,score:i}:e},{menu:v[0],score:0});E({first:i[0].menu,second:i[1].menu,opposite:l.menu,userWeights:t})};return(0,i.jsxs)(l.A,{children:[(0,i.jsx)(n.s,{title:"메뉴 추천기",subTitle:"간단한 문항을 통해 오늘 메뉴를 추천받아 보세요."}),(0,i.jsx)(a.A,{sx:{width:"100%",mt:4,display:"flex",flex:1,flexDirection:"column",alignItems:"center"},children:(0,i.jsx)(c.A,{sx:{width:{xs:"100%",sm:"400px"},minHeight:{xs:"400px",sm:"500px"}},children:(0,i.jsx)(o.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center",height:"100%",justifyContent:"space-between"},children:f?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(a.A,{sx:{width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[(0,i.jsx)(h.A,{variant:"h5",fontWeight:"bold",gutterBottom:!0,children:"추천 메뉴"}),_&&(0,i.jsxs)(a.A,{sx:{width:"100%",display:"flex",flex:1,flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[(0,i.jsxs)(h.A,{variant:"h6",color:"primary",children:["1순위: ",_.first.name]}),(0,i.jsxs)(h.A,{variant:"body1",sx:{mt:1},children:["2순위: ",_.second.name]}),(0,i.jsx)(a.A,{sx:{mt:2,width:"100%",height:"300px"},children:(0,i.jsx)(m.u,{width:"100%",height:"100%",children:(0,i.jsxs)(g.V,{cx:"50%",cy:"50%",outerRadius:"70%",data:(e=>[{subject:"육류",value:100*e.meat},{subject:"채소",value:100*e.vegetable},{subject:"따뜻함",value:100*e.hot},{subject:"차가움",value:100*e.cold},{subject:"매운맛",value:100*e.spicy}])(_.userWeights),children:[(0,i.jsx)(u.z,{}),(0,i.jsx)(p.r,{dataKey:"subject"}),(0,i.jsx)(j.E,{angle:30,domain:[0,100]}),(0,i.jsx)(b.V,{name:"사용자",dataKey:"value",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.6})]})})})]})]}),(0,i.jsx)(d.A,{variant:"contained",onClick:()=>{t(0),w({}),A(!1),E(null)},sx:{mt:1},children:"다시하기"})]}):(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(a.A,{sx:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,i.jsx)(r.A,{variant:"determinate",value:e/y.length*100,sx:{mb:2,width:"100%"}}),(0,i.jsxs)(h.A,{variant:"body2",color:"text.secondary",sx:{mb:2},children:[e+1," / ",y.length]}),(0,i.jsx)(h.A,{variant:"h6",gutterBottom:!0,textAlign:"center",children:y[e].text}),(0,i.jsx)(a.A,{sx:{display:"flex",flexDirection:"column",gap:2,mt:2,width:"100%"},children:y[e].options.map((e,t)=>(0,i.jsx)(d.A,{variant:"outlined",onClick:()=>k(t),sx:{justifyContent:"center",textAlign:"center"},children:e.text},t))})]})})})})})]})}},80132:(e,t,s)=>{"use strict";s.d(t,{s:()=>a});var i=s(37876),l=s(46520),n=s(61428);let a=e=>(0,i.jsxs)(l.A,{children:[(0,i.jsx)(n.A,{variant:"h5",fontWeight:"bold",children:e.title}),(0,i.jsx)(n.A,{variant:"body2",color:"text.secondary",mt:.5,children:e.subTitle.split("\n").map((e,t)=>(0,i.jsxs)("span",{children:[e,(0,i.jsx)("br",{})]},t))})]})},95252:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});var i=s(37876),l=s(46520),n=s(87263);let a=e=>(0,i.jsx)(l.A,{p:2,children:(0,i.jsx)(n.A,{spacing:3,children:e.children})})}},e=>{var t=t=>e(e.s=t);e.O(0,[419,636,593,792],()=>t(23637)),_N_E=e.O()}]);