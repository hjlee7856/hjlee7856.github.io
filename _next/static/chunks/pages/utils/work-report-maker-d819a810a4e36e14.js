(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[119],{336:(e,t,n)=>{"use strict";n.d(t,{u:()=>s});var l=n(7876),i=n(6520),a=n(1428);let s=()=>(0,l.jsxs)(i.A,{children:[(0,l.jsx)(a.A,{variant:"h5",fontWeight:"bold",children:"업무 보고 생성기"}),(0,l.jsxs)(a.A,{variant:"body2",color:"text.secondary",mt:.5,children:["업무 보고를 템플릿으로 자동으로 생성 해줍니다. ",(0,l.jsx)("br",{}),"로그인하면 클라우드에 저장됩니다."]})]})},1366:(e,t,n)=>{"use strict";n.d(t,{o:()=>k});var l=n(7876),i=n(2989),a=n(8192),s=n(4676),r=n(9858),o=n(8431),c=n(4527),d=n(7461),h=n(4232);let x=e=>{let[t,n]=(0,h.useState)(""),[x,u]=(0,h.useState)(""),g=()=>{n(""),u("")};return(0,l.jsxs)(s.A,{sx:{backgroundColor:d.A[50]},children:[(0,l.jsx)(r.A,{children:e.section}),(0,l.jsx)(r.A,{children:(0,l.jsx)(o.A,{error:""===t,label:""===t?"필수":"카테고리",value:t,onChange:e=>n(e.target.value),multiline:!0,fullWidth:!0,size:"small"})}),(0,l.jsx)(r.A,{children:(0,l.jsx)(o.A,{label:"내용",value:x,onChange:e=>u(e.target.value),multiline:!0,fullWidth:!0,size:"small"})}),(0,l.jsxs)(r.A,{align:"center",children:[(0,l.jsx)(c.A,{onClick:()=>{e.handleAdd(e.section,t,x),g()},size:"small",children:(0,l.jsx)(i.A,{fontSize:"small"})}),(0,l.jsx)(c.A,{onClick:g,size:"small",children:(0,l.jsx)(a.A,{fontSize:"small"})})]})]})};var u=n(2781),g=n(5878),j=n(6149),A=n(1567),m=n(6115),f=n(4582),y=n(6520),p=n(1428),v=n(451),b=n(8423),w=n(1413);let k=e=>(0,l.jsxs)(y.A,{sx:{overflowX:"auto"},children:[(0,l.jsx)(p.A,{variant:"subtitle1",fontWeight:"bold",mb:1,children:e.title}),(0,l.jsxs)(v.A,{size:"small",sx:{minWidth:600},children:[(0,l.jsx)(b.A,{children:(0,l.jsxs)(s.A,{children:[(0,l.jsx)(r.A,{children:"분류"}),(0,l.jsx)(r.A,{children:"카테고리"}),(0,l.jsx)(r.A,{children:"내용"}),(0,l.jsx)(r.A,{align:"center",children:"CRUD"})]})}),(0,l.jsxs)(w.A,{children:[(0,l.jsx)(x,{section:e.section,handleAdd:e.handleAdd}),e.allContentItems.map((t,n)=>{var i,a,d,h,x,p;let v="".concat(t.section,"-").concat(t.category,"-").concat(t.content),b=e.editingKey===v;return(0,l.jsxs)(s.A,{sx:{backgroundColor:b?f.A[50]:""},children:[(0,l.jsx)(r.A,{sx:{width:"160px"},children:(0,l.jsxs)(y.A,{display:"flex",flexDirection:"row",gap:1,alignItems:"center",children:[t.section,b&&(0,l.jsxs)(l.Fragment,{children:["금일 진행 사항"===t.section&&(0,l.jsx)(c.A,{onClick:()=>{e.handleEditChange(t.content,"section","익일 예정 사항"),e.handleSaveEdit(t.content,"익일 예정 사항")},size:"small",children:(0,l.jsx)(m.A,{fontSize:"small"})}),"익일 예정 사항"===t.section&&(0,l.jsx)(c.A,{onClick:()=>{e.handleEditChange(t.content,"section","금일 진행 사항"),e.handleSaveEdit(t.content,"금일 진행 사항")},size:"small",children:(0,l.jsx)(j.A,{fontSize:"small"})})]})]})}),(0,l.jsx)(r.A,{sx:{wordBreak:"break-all"},children:b?(0,l.jsx)(o.A,{error:(null===(i=e.editingMap[t.content])||void 0===i?void 0:i.category)==="",label:(null===(a=e.editingMap[t.content])||void 0===a?void 0:a.category)===""?"필수":"카테고리",value:null!==(x=null===(d=e.editingMap[t.content])||void 0===d?void 0:d.category)&&void 0!==x?x:t.category,onChange:n=>e.handleEditChange(t.content,"category",n.target.value),multiline:!0,fullWidth:!0,size:"small"}):t.category}),(0,l.jsx)(r.A,{sx:{wordBreak:"break-all"},children:b?(0,l.jsx)(o.A,{label:"내용",value:null!==(p=null===(h=e.editingMap[t.content])||void 0===h?void 0:h.content)&&void 0!==p?p:t.content,onChange:n=>e.handleEditChange(t.content,"content",n.target.value),multiline:!0,fullWidth:!0,disabled:!b,size:"small"}):t.content}),(0,l.jsxs)(r.A,{align:"center",children:[b?(0,l.jsx)(c.A,{onClick:()=>{e.handleSaveEdit(t.content),e.setEditingKey(null)},size:"small",children:(0,l.jsx)(A.A,{fontSize:"small"})}):(0,l.jsx)(c.A,{onClick:()=>{e.setEditingMap(e=>({...e,[t.content]:{section:t.section,category:t.category,content:t.content}})),e.setEditingKey("".concat(t.section,"-").concat(t.category,"-").concat(t.content))},size:"small",children:(0,l.jsx)(g.A,{fontSize:"small"})}),(0,l.jsx)(c.A,{onClick:()=>e.handleDelete(t.section,t.category,t.content),size:"small",children:(0,l.jsx)(u.A,{fontSize:"small"})})]})]},n)})]})]})]})},2606:(e,t,n)=>{"use strict";n.d(t,{M:()=>c});var l=n(7876),i=n(2382),a=n(6520),s=n(1428),r=n(4527),o=n(8431);let c=e=>(0,l.jsxs)(a.A,{flex:1,flexDirection:"column",children:[(0,l.jsxs)(a.A,{display:"flex",justifyContent:"space-between",mb:1,children:[(0,l.jsx)(s.A,{variant:"subtitle1",fontWeight:"bold",children:"보고서 미리보기"}),(0,l.jsx)(r.A,{size:"small",onClick:e.handleCopy,children:(0,l.jsx)(i.A,{fontSize:"small"})})]}),(0,l.jsx)(o.A,{multiline:!0,fullWidth:!0,minRows:10,value:e.text,sx:{borderRadius:2,backgroundColor:"#f5f5f5"},InputProps:{readOnly:!0}})]})},5960:(e,t,n)=>{"use strict";n.a(e,async(e,l)=>{try{n.r(t),n.d(t,{default:()=>g});var i=n(7876),a=n(1366),s=n(2606),r=n(336),o=n(7328),c=n(6520),d=n(7263),h=n(7916),x=n(2199),u=e([o]);o=(u.then?(await u)():u)[0];let g=()=>{let{handleAdd:e,allContentItems:t,editingMap:n,editingKey:l,handleEditChange:u,handleSaveEdit:g,setEditingMap:j,setEditingKey:A,handleDelete:m,handleCopy:f,openSnackbar:y,text:p,setOpenSnackbar:v}=(0,o.l)();return(0,i.jsxs)(c.A,{p:2,children:[(0,i.jsxs)(d.A,{spacing:3,children:[(0,i.jsx)(r.u,{}),(0,i.jsx)(h.A,{}),(0,i.jsxs)(c.A,{display:"flex",sx:{flexDirection:{xs:"column",sm:"row"}},children:[(0,i.jsxs)(c.A,{display:"flex",flexDirection:"column",gap:2,flex:2,children:[(0,i.jsx)(a.o,{title:"금일 진행 사항",allContentItems:t.filter(e=>"금일 진행 사항"===e.section),editingMap:n,setEditingMap:j,editingKey:l,setEditingKey:A,handleEditChange:u,handleSaveEdit:g,handleDelete:m,section:"금일 진행 사항",handleAdd:e}),(0,i.jsx)(h.A,{sx:{my:1,display:{xs:"block",sm:"none"}}}),(0,i.jsx)(a.o,{title:"익일 예정 사항",allContentItems:t.filter(e=>"익일 예정 사항"===e.section),editingMap:n,setEditingMap:j,editingKey:l,setEditingKey:A,handleEditChange:u,handleSaveEdit:g,handleDelete:m,section:"익일 예정 사항",handleAdd:e})]}),(0,i.jsx)(h.A,{orientation:"vertical",flexItem:!0,sx:{mx:3,display:{xs:"none",sm:"block"}}}),(0,i.jsx)(h.A,{sx:{my:3,display:{xs:"block",sm:"none"}}}),(0,i.jsx)(s.M,{text:p,handleCopy:f})]})]}),(0,i.jsx)(x.A,{open:y,autoHideDuration:2e3,onClose:()=>v(!1),message:"보고서가 복사되었습니다.",anchorOrigin:{vertical:"bottom",horizontal:"center"}})]})};l()}catch(e){l(e)}})},7328:(e,t,n)=>{"use strict";n.a(e,async(e,l)=>{try{n.d(t,{l:()=>c});var i=n(7568),a=n(197),s=n(4232),r=e([i]);i=(r.then?(await r)():r)[0];let o="workReportData",c=()=>{let[e,t]=(0,s.useState)({}),[n,l]=(0,s.useState)({}),[r,c]=(0,s.useState)(null),[d,h]=(0,s.useState)(!1),{user:x}=(0,a.A)();(0,s.useEffect)(()=>{(async()=>{if(x){let e=await (0,i.Q)(x);e&&t(e)}else{let e=localStorage.getItem(o);e&&t(JSON.parse(e))}})()},[x]),(0,s.useEffect)(()=>{(async()=>{x?await (0,i.i)(JSON.stringify(e),x):localStorage.setItem(o,JSON.stringify(e))})()},[e,x]);let u=async()=>{let e=g();await navigator.clipboard.writeText(e),h(!0)},g=()=>Object.entries(e).sort((e,t)=>{let[n]=e,[l]=t;return n.localeCompare(l)}).map(e=>{let[t,n]=e,l=Object.entries(n).map(e=>{let[t,n]=e,l=n.filter(e=>""!==e.trim());if(0===l.length)return"● ".concat(t);let i=l.map(e=>"    ○ ".concat(e)).join("\n");return t.trim()?"● ".concat(t,"\n").concat(i):i}).join("\n");return l?"".concat("*[".concat(t,"]*"),"\n").concat(l):""}).filter(Boolean).join("\n\n").trim(),j=g(),A=Object.entries(e).flatMap(e=>{let[t,n]=e;return Object.entries(n).flatMap(e=>{let[n,l]=e;return l.map(e=>({section:t,category:n,content:e}))})});return{handleAdd:(e,n,l)=>{e&&n&&l.trim()&&t(t=>{let i={...t};return i[e]=i[e]||{},i[e][n]=[...i[e][n]||[],l],i})},allContentItems:A,editingMap:n,editingKey:r,handleEditChange:(e,t,n)=>{l(l=>({...l,[e]:{...l[e],[t]:n}}))},handleSaveEdit:(e,i)=>{let a=n[e];if(!a)return;let s=A.find(t=>t.content===e);if(!s)return;let r=i||a.section,o=a.category,c=a.content;t(t=>{let n={...t};return n[s.section][s.category]=n[s.section][s.category].filter(t=>t!==e),0===n[s.section][s.category].length&&delete n[s.section][s.category],0===Object.keys(n[s.section]).length&&delete n[s.section],n[r]=n[r]||{},n[r][o]=[...n[r][o]||[],c],n}),l(t=>{let n={...t};return delete n[e],n})},setEditingMap:l,setEditingKey:c,handleDelete:(e,n,l)=>{t(t=>{let i={...t};return i[e][n]=i[e][n].filter(e=>e!==l),0===i[e][n].length&&delete i[e][n],0===Object.keys(i[e]).length&&delete i[e],i})},handleCopy:u,openSnackbar:d,text:j,setOpenSnackbar:h}};l()}catch(e){l(e)}})},7568:(e,t,n)=>{"use strict";n.a(e,async(e,l)=>{try{n.d(t,{Q:()=>o,i:()=>r});var i=n(5217),a=n(2009),s=e([i]);i=(s.then?(await s)():s)[0];let r=async(e,t)=>{try{let n=(0,a.H9)(i.db,"workReports",t.uid);(await (0,a.x7)(n)).exists()?await (0,a.mZ)(n,{workReportData:e,updatedAt:new Date}):await (0,a.BN)(n,{workReportData:e,createdAt:new Date})}catch(e){console.error("Failed to edit work report:",e)}},o=async e=>{try{let t=(0,a.H9)(i.db,"workReports",e.uid),n=await (0,a.x7)(t);if(n.exists())return JSON.parse(n.data().workReportData);return null}catch(e){return null}};l()}catch(e){l(e)}})},8569:(e,t,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/utils/work-report-maker",function(){return n(5960)}])}},e=>{var t=t=>e(e.s=t);e.O(0,[431,74,691,636,593,792],()=>t(8569)),_N_E=e.O()}]);